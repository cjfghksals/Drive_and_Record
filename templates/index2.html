<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>í‘œ ì—…ë°ì´íŠ¸ ë²„íŠ¼ ì˜ˆì‹œ</title>
<link rel="stylesheet" type="text/css" href="{{url_for('static',filename='style.css')}}"> <!-- ì˜¬ë°”ë¥¸ CSS íŒŒì¼ ì—°ë™ -->
<script>
function updateTable() {
    // í‘œë¥¼ ìƒì„±í•  ìœ„ì¹˜ë¥¼ ì°¾ìŠµë‹ˆë‹¤.
    var tableContainer = document.getElementById('table-container');
    
    // ìƒˆë¡œìš´ í‘œ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
    var table = document.createElement('table');
    table.setAttribute('border', '3');
    
    // í‘œì˜ í¬ê¸°ë¥¼ ì¡°ì •í•©ë‹ˆë‹¤.
    table.style.width = '100%'; // ì „ì²´ ë„ˆë¹„ì˜ 80%ë¡œ ì„¤ì •
    table.style.height = '100px'; // ë†’ì´ë¥¼ 200pxë¡œ ì„¤ì •
    table.style.fontSize = '32px'; // ê¸€ì í¬ê¸°ë¥¼ 16pxë¡œ ì„¤ì •

    // í‘œì˜ í—¤ë”ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
    var headerRow = document.createElement('tr');
    var headers = ['ë„ì°©ì‹œê°„', 'ì£¼ì†Œ'];
    for (var i = 0; i < headers.length; i++) {
        var headerCell = document.createElement('td');
        headerCell.textContent = headers[i];
        headerRow.appendChild(headerCell);
    }
    table.appendChild(headerRow);

     // ì„œë²„ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    fetch('https://mobleqr.iptime.org:443/update')
    .then(response => response.json())
    .then(data => {
        // ë°ì´í„°ë¥¼ í‘œì— ì¶”ê°€í•©ë‹ˆë‹¤.
        data.forEach(item => {
            var row = document.createElement('tr');
            for (var key in item) {
                var cell = document.createElement('td');
                cell.textContent = item[key];
                row.appendChild(cell);
            }
            table.appendChild(row);
        });
    })
    .catch(error => console.error('Error fetching data:', error));

    // ê¸°ì¡´ì˜ í‘œë¥¼ ì‚­ì œí•˜ê³  ìƒˆë¡œìš´ í‘œë¥¼ ì‚½ì…í•©ë‹ˆë‹¤.
    tableContainer.innerHTML = ''; // ê¸°ì¡´ì˜ ë‚´ìš© ì‚­ì œ
    tableContainer.appendChild(table);
}


</script>
</head>
<body>
    <p>
        <span class="bubbles">ğŸ«§</span>
    </p>
<h2>í‘œ ì—…ë°ì´íŠ¸ ì˜ˆì‹œ</h2>

<!-- ì—…ë°ì´íŠ¸í•  í‘œë¥¼ ë³´ì—¬ì¤„ ìš”ì†Œ -->
<div id="table-container"></div>

<!-- ì—…ë°ì´íŠ¸ ë²„íŠ¼ -->
<!-- <button onclick="updateTable()">í‘œ ì—…ë°ì´íŠ¸</button> -->
<button onclick="updateTable()">í‘œ ì—…ë°ì´íŠ¸</button>
</body>
</html>
